{% extends 'base.html.twig' %}

{% block title %}Liste des Produits
{% endblock %}

{% block listActive %}active{% endblock %}

{% block body %}
	<div class="container">

		<div class="row">
			<div class="col-lg-12">
				<div class="main-box clearfix">
					<div class="table-responsive">
						<table class="table user-list">
							<a href="{{ path('app_product_add') }}" class="badge bg-primary fs-6 my-4 mx-2 text-decoration-none">Ajouter un produit</a>
							<thead>
								<tr>
									<th>
										<span>Produit</span>
									</th>
									<th>
									    <select name="category" id="category" class="form-control">
									    <option value="">Toutes les catégories</option>									
									    {% for category in categories %}
									        <option value="{{ category }}">{{ category }}</option>
									    {% endfor %}
									</select>

									</th>

									<th>
										<span>Marque</span>
									</th>
									<th>
										<span>Fournisseur</span>
									</th>
									<th>
										<span>Conditionnement</span>
									</th>
                                    <th>
										<span>PA HT Unit</span>
									</th>
                                    <th>
										<span>PA HT Kg</span>
									</th>
                                    <th>
										<span>PA TTC Unit</span>
									</th>
                                    <th>
										<span>PA TTC Kg</span>
									</th>
                                    <th>
										<span>Grammes</span>
									</th>
								</tr>
							</thead>
							<tbody>
								{% set categories = app.request.attributes.get('categories') %}

								{% if categories is defined %}
								    {% for product in categories %}									<tr>
										<td>
											<span>{{ product.produit }}</span>
										</td>
										<td>
											<span>{{ product.categorie }}</span>
										</td>
										<td>
											<span>{{ product.marque }}</span>
										</td>
										<td>
											<span>{{ product.fournisseur }}</span>
										</td>
                                        <td>
											<span>{{ product.conditionnement }}</span>
										</td>
                                        <td>
                                            <span>{{ product.pahtunit }}</span>
                                        </td>
                                        <td>
                                            <span>{{ product.pahtkg }}</span>
                                        </td>
                                        <td>
                                            <span>{{ product.pattcunit }}</span>
                                        </td>
                                        <td>
                                            <span>{{ product.pattckg }}</span>
                                        </td>
                                        <td>
                                            <span>{{ product.grammes }}</span>
                                        </td>		
										<td style="width: 15%;">
											<a href="{{ path('app_product_show', {id:product.id}) }}" class="link-success">
												<span class="fa-stack">
													<i class="fa fa-square fa-stack-2x"></i>
													<i class="fa fa-search-plus fa-stack-1x fa-inverse"></i>
												</span>
											</a>
											{# <a href="{{path('app_admin_comics_edit',{id:product.id})}}" class="link-warning"> #}
												<span class="fa-stack">
													<i class="fa fa-square fa-stack-2x"></i>
													<i class="fa fa-pencil fa-stack-1x fa-inverse"></i>
												</span>
											</a>
										</td>
									</tr>
								{% endfor %}
								{% else %}
							    <p>Aucune catégorie trouvée</p>
							{% endif %}
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>
	</div>
{% endblock %}

